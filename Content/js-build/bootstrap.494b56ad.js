(function(){var t=this,n=t._,e={},r=Array.prototype,i=Object.prototype,o=Function.prototype,a=r.push,u=r.slice,l=r.concat,c=i.toString,s=i.hasOwnProperty,f=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,x=Object.keys,S=o.bind,j=function(t){return t instanceof j?t:this instanceof j?void(this._wrapped=t):new j(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):t._=j,j.VERSION="1.6.0";var k=j.each=j.forEach=function(t,n,r){if(null==t)return t;if(f&&t.forEach===f)t.forEach(n,r);else if(t.length===+t.length){for(var i=0,o=t.length;o>i;i++)if(n.call(r,t[i],i,t)===e)return}else for(var a=j.keys(t),i=0,o=a.length;o>i;i++)if(n.call(r,t[a[i]],a[i],t)===e)return;return t};j.map=j.collect=function(t,n,e){var r=[];return null==t?r:h&&t.map===h?t.map(n,e):(k(t,function(t,i,o){r.push(n.call(e,t,i,o))}),r)};var _="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(t,n,e,r){var i=arguments.length>2;if(null==t&&(t=[]),p&&t.reduce===p)return r&&(n=j.bind(n,r)),i?t.reduce(n,e):t.reduce(n);if(k(t,function(t,o,a){i?e=n.call(r,e,t,o,a):(e=t,i=!0)}),!i)throw new TypeError(_);return e},j.reduceRight=j.foldr=function(t,n,e,r){var i=arguments.length>2;if(null==t&&(t=[]),d&&t.reduceRight===d)return r&&(n=j.bind(n,r)),i?t.reduceRight(n,e):t.reduceRight(n);var o=t.length;if(o!==+o){var a=j.keys(t);o=a.length}if(k(t,function(u,l,c){l=a?a[--o]:--o,i?e=n.call(r,e,t[l],l,c):(e=t[l],i=!0)}),!i)throw new TypeError(_);return e},j.find=j.detect=function(t,n,e){var r;return O(t,function(t,i,o){return n.call(e,t,i,o)?(r=t,!0):void 0}),r},j.filter=j.select=function(t,n,e){var r=[];return null==t?r:v&&t.filter===v?t.filter(n,e):(k(t,function(t,i,o){n.call(e,t,i,o)&&r.push(t)}),r)},j.reject=function(t,n,e){return j.filter(t,function(t,r,i){return!n.call(e,t,r,i)},e)},j.every=j.all=function(t,n,r){n||(n=j.identity);var i=!0;return null==t?i:m&&t.every===m?t.every(n,r):(k(t,function(t,o,a){return(i=i&&n.call(r,t,o,a))?void 0:e}),!!i)};var O=j.some=j.any=function(t,n,r){n||(n=j.identity);var i=!1;return null==t?i:g&&t.some===g?t.some(n,r):(k(t,function(t,o,a){return i||(i=n.call(r,t,o,a))?e:void 0}),!!i)};j.contains=j.include=function(t,n){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(n):O(t,function(t){return t===n})},j.invoke=function(t,n){var e=u.call(arguments,2),r=j.isFunction(n);return j.map(t,function(t){return(r?n:t[n]).apply(t,e)})},j.pluck=function(t,n){return j.map(t,j.property(n))},j.where=function(t,n){return j.filter(t,j.matches(n))},j.findWhere=function(t,n){return j.find(t,j.matches(n))},j.max=function(t,n,e){if(!n&&j.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var r=-(1/0),i=-(1/0);return k(t,function(t,o,a){var u=n?n.call(e,t,o,a):t;u>i&&(r=t,i=u)}),r},j.min=function(t,n,e){if(!n&&j.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var r=1/0,i=1/0;return k(t,function(t,o,a){var u=n?n.call(e,t,o,a):t;i>u&&(r=t,i=u)}),r},j.shuffle=function(t){var n,e=0,r=[];return k(t,function(t){n=j.random(e++),r[e-1]=r[n],r[n]=t}),r},j.sample=function(t,n,e){return null==n||e?(t.length!==+t.length&&(t=j.values(t)),t[j.random(t.length-1)]):j.shuffle(t).slice(0,Math.max(0,n))};var A=function(t){return null==t?j.identity:j.isFunction(t)?t:j.property(t)};j.sortBy=function(t,n,e){return n=A(n),j.pluck(j.map(t,function(t,r,i){return{value:t,index:r,criteria:n.call(e,t,r,i)}}).sort(function(t,n){var e=t.criteria,r=n.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(r>e||void 0===r)return-1}return t.index-n.index}),"value")};var q=function(t){return function(n,e,r){var i={};return e=A(e),k(n,function(o,a){var u=e.call(r,o,a,n);t(i,u,o)}),i}};j.groupBy=q(function(t,n,e){j.has(t,n)?t[n].push(e):t[n]=[e]}),j.indexBy=q(function(t,n,e){t[n]=e}),j.countBy=q(function(t,n){j.has(t,n)?t[n]++:t[n]=1}),j.sortedIndex=function(t,n,e,r){e=A(e);for(var i=e.call(r,n),o=0,a=t.length;a>o;){var u=o+a>>>1;e.call(r,t[u])<i?o=u+1:a=u}return o},j.toArray=function(t){return t?j.isArray(t)?u.call(t):t.length===+t.length?j.map(t,j.identity):j.values(t):[]},j.size=function(t){return null==t?0:t.length===+t.length?t.length:j.keys(t).length},j.first=j.head=j.take=function(t,n,e){return null!=t?null==n||e?t[0]:0>n?[]:u.call(t,0,n):void 0},j.initial=function(t,n,e){return u.call(t,0,t.length-(null==n||e?1:n))},j.last=function(t,n,e){return null!=t?null==n||e?t[t.length-1]:u.call(t,Math.max(t.length-n,0)):void 0},j.rest=j.tail=j.drop=function(t,n,e){return u.call(t,null==n||e?1:n)},j.compact=function(t){return j.filter(t,j.identity)};var T=function(t,n,e){return n&&j.every(t,j.isArray)?l.apply(e,t):(k(t,function(t){j.isArray(t)||j.isArguments(t)?n?a.apply(e,t):T(t,n,e):e.push(t)}),e)};j.flatten=function(t,n){return T(t,n,[])},j.without=function(t){return j.difference(t,u.call(arguments,1))},j.partition=function(t,n){var e=[],r=[];return k(t,function(t){(n(t)?e:r).push(t)}),[e,r]},j.uniq=j.unique=function(t,n,e,r){j.isFunction(n)&&(r=e,e=n,n=!1);var i=e?j.map(t,e,r):t,o=[],a=[];return k(i,function(e,r){(n?r&&a[a.length-1]===e:j.contains(a,e))||(a.push(e),o.push(t[r]))}),o},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(t){var n=u.call(arguments,1);return j.filter(j.uniq(t),function(t){return j.every(n,function(n){return j.contains(n,t)})})},j.difference=function(t){var n=l.apply(r,u.call(arguments,1));return j.filter(t,function(t){return!j.contains(n,t)})},j.zip=function(){for(var t=j.max(j.pluck(arguments,"length").concat(0)),n=new Array(t),e=0;t>e;e++)n[e]=j.pluck(arguments,""+e);return n},j.object=function(t,n){if(null==t)return{};for(var e={},r=0,i=t.length;i>r;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e},j.indexOf=function(t,n,e){if(null==t)return-1;var r=0,i=t.length;if(e){if("number"!=typeof e)return r=j.sortedIndex(t,n),t[r]===n?r:-1;r=0>e?Math.max(0,i+e):e}if(y&&t.indexOf===y)return t.indexOf(n,e);for(;i>r;r++)if(t[r]===n)return r;return-1},j.lastIndexOf=function(t,n,e){if(null==t)return-1;var r=null!=e;if(b&&t.lastIndexOf===b)return r?t.lastIndexOf(n,e):t.lastIndexOf(n);for(var i=r?e:t.length;i--;)if(t[i]===n)return i;return-1},j.range=function(t,n,e){arguments.length<=1&&(n=t||0,t=0),e=arguments[2]||1;for(var r=Math.max(Math.ceil((n-t)/e),0),i=0,o=new Array(r);r>i;)o[i++]=t,t+=e;return o};var E=function(){};j.bind=function(t,n){var e,r;if(S&&t.bind===S)return S.apply(t,u.call(arguments,1));if(!j.isFunction(t))throw new TypeError;return e=u.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(n,e.concat(u.call(arguments)));E.prototype=t.prototype;var i=new E;E.prototype=null;var o=t.apply(i,e.concat(u.call(arguments)));return Object(o)===o?o:i}},j.partial=function(t){var n=u.call(arguments,1);return function(){for(var e=0,r=n.slice(),i=0,o=r.length;o>i;i++)r[i]===j&&(r[i]=arguments[e++]);for(;e<arguments.length;)r.push(arguments[e++]);return t.apply(this,r)}},j.bindAll=function(t){var n=u.call(arguments,1);if(0===n.length)throw new Error("bindAll must be passed function names");return k(n,function(n){t[n]=j.bind(t[n],t)}),t},j.memoize=function(t,n){var e={};return n||(n=j.identity),function(){var r=n.apply(this,arguments);return j.has(e,r)?e[r]:e[r]=t.apply(this,arguments)}},j.delay=function(t,n){var e=u.call(arguments,2);return setTimeout(function(){return t.apply(null,e)},n)},j.defer=function(t){return j.delay.apply(j,[t,1].concat(u.call(arguments,1)))},j.throttle=function(t,n,e){var r,i,o,a=null,u=0;e||(e={});var l=function(){u=e.leading===!1?0:j.now(),a=null,o=t.apply(r,i),r=i=null};return function(){var c=j.now();u||e.leading!==!1||(u=c);var s=n-(c-u);return r=this,i=arguments,0>=s?(clearTimeout(a),a=null,u=c,o=t.apply(r,i),r=i=null):a||e.trailing===!1||(a=setTimeout(l,s)),o}},j.debounce=function(t,n,e){var r,i,o,a,u,l=function(){var c=j.now()-a;n>c?r=setTimeout(l,n-c):(r=null,e||(u=t.apply(o,i),o=i=null))};return function(){o=this,i=arguments,a=j.now();var c=e&&!r;return r||(r=setTimeout(l,n)),c&&(u=t.apply(o,i),o=i=null),u}},j.once=function(t){var n,e=!1;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}},j.wrap=function(t,n){return j.partial(n,t)},j.compose=function(){var t=arguments;return function(){for(var n=arguments,e=t.length-1;e>=0;e--)n=[t[e].apply(this,n)];return n[0]}},j.after=function(t,n){return function(){return--t<1?n.apply(this,arguments):void 0}},j.keys=function(t){if(!j.isObject(t))return[];if(x)return x(t);var n=[];for(var e in t)j.has(t,e)&&n.push(e);return n},j.values=function(t){for(var n=j.keys(t),e=n.length,r=new Array(e),i=0;e>i;i++)r[i]=t[n[i]];return r},j.pairs=function(t){for(var n=j.keys(t),e=n.length,r=new Array(e),i=0;e>i;i++)r[i]=[n[i],t[n[i]]];return r},j.invert=function(t){for(var n={},e=j.keys(t),r=0,i=e.length;i>r;r++)n[t[e[r]]]=e[r];return n},j.functions=j.methods=function(t){var n=[];for(var e in t)j.isFunction(t[e])&&n.push(e);return n.sort()},j.extend=function(t){return k(u.call(arguments,1),function(n){if(n)for(var e in n)t[e]=n[e]}),t},j.pick=function(t){var n={},e=l.apply(r,u.call(arguments,1));return k(e,function(e){e in t&&(n[e]=t[e])}),n},j.omit=function(t){var n={},e=l.apply(r,u.call(arguments,1));for(var i in t)j.contains(e,i)||(n[i]=t[i]);return n},j.defaults=function(t){return k(u.call(arguments,1),function(n){if(n)for(var e in n)void 0===t[e]&&(t[e]=n[e])}),t},j.clone=function(t){return j.isObject(t)?j.isArray(t)?t.slice():j.extend({},t):t},j.tap=function(t,n){return n(t),t};var F=function(t,n,e,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;t instanceof j&&(t=t._wrapped),n instanceof j&&(n=n._wrapped);var i=c.call(t);if(i!=c.call(n))return!1;switch(i){case"[object String]":return t==String(n);case"[object Number]":return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}if("object"!=typeof t||"object"!=typeof n)return!1;for(var o=e.length;o--;)if(e[o]==t)return r[o]==n;var a=t.constructor,u=n.constructor;if(a!==u&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(u)&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1;e.push(t),r.push(n);var l=0,s=!0;if("[object Array]"==i){if(l=t.length,s=l==n.length)for(;l--&&(s=F(t[l],n[l],e,r)););}else{for(var f in t)if(j.has(t,f)&&(l++,!(s=j.has(n,f)&&F(t[f],n[f],e,r))))break;if(s){for(f in n)if(j.has(n,f)&&!l--)break;s=!l}}return e.pop(),r.pop(),s};j.isEqual=function(t,n){return F(t,n,[],[])},j.isEmpty=function(t){if(null==t)return!0;if(j.isArray(t)||j.isString(t))return 0===t.length;for(var n in t)if(j.has(t,n))return!1;return!0},j.isElement=function(t){return!(!t||1!==t.nodeType)},j.isArray=w||function(t){return"[object Array]"==c.call(t)},j.isObject=function(t){return t===Object(t)},k(["Arguments","Function","String","Number","Date","RegExp"],function(t){j["is"+t]=function(n){return c.call(n)=="[object "+t+"]"}}),j.isArguments(arguments)||(j.isArguments=function(t){return!(!t||!j.has(t,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(t){return"function"==typeof t}),j.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},j.isNaN=function(t){return j.isNumber(t)&&t!=+t},j.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==c.call(t)},j.isNull=function(t){return null===t},j.isUndefined=function(t){return void 0===t},j.has=function(t,n){return s.call(t,n)},j.noConflict=function(){return t._=n,this},j.identity=function(t){return t},j.constant=function(t){return function(){return t}},j.property=function(t){return function(n){return n[t]}},j.matches=function(t){return function(n){if(n===t)return!0;for(var e in t)if(t[e]!==n[e])return!1;return!0}},j.times=function(t,n,e){for(var r=Array(Math.max(0,t)),i=0;t>i;i++)r[i]=n.call(e,i);return r},j.random=function(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))},j.now=Date.now||function(){return(new Date).getTime()};var R={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};R.unescape=j.invert(R.escape);var z={escape:new RegExp("["+j.keys(R.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(R.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(t){j[t]=function(n){return null==n?"":(""+n).replace(z[t],function(n){return R[t][n]})}}),j.result=function(t,n){if(null!=t){var e=t[n];return j.isFunction(e)?e.call(t):e}},j.mixin=function(t){k(j.functions(t),function(n){var e=j[n]=t[n];j.prototype[n]=function(){var t=[this._wrapped];return a.apply(t,arguments),$.call(this,e.apply(j,t))}})};var I=0;j.uniqueId=function(t){var n=++I+"";return t?t+n:n},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,C={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(t,n,e){var r;e=j.defaults({},e,j.templateSettings);var i=new RegExp([(e.escape||M).source,(e.interpolate||M).source,(e.evaluate||M).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(i,function(n,e,r,i,u){return a+=t.slice(o,u).replace(D,function(t){return"\\"+C[t]}),e&&(a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),o=u+n.length,n}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(e.variable||"obj","_",a)}catch(u){throw u.source=a,u}if(n)return r(n,j);var l=function(t){return r.call(this,t,j)};return l.source="function("+(e.variable||"obj")+"){\n"+a+"}",l},j.chain=function(t){return j(t).chain()};var $=function(t){return this._chain?j(t).chain():t};j.mixin(j),k(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=r[t];j.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!=t&&"splice"!=t||0!==e.length||delete e[0],$.call(this,e)}}),k(["concat","join","slice"],function(t){var n=r[t];j.prototype[t]=function(){return $.call(this,n.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return j})}).call(this),function(t,n,e){var r=window.matchMedia;"undefined"!=typeof module&&module.exports?module.exports=e(r):"function"==typeof define&&define.amd?define("libs/enquire",[],function(){return n[t]=e(r)}):n[t]=e(r)}("enquire",this,function(t){"use strict";function n(t,n){var e,r=0,i=t.length;for(r;i>r&&(e=n(t[r],r),e!==!1);r++);}function e(t){return"[object Array]"===Object.prototype.toString.apply(t)}function r(t){return"function"==typeof t}function i(t){this.options=t,!t.deferSetup&&this.setup()}function o(n,e){this.query=n,this.isUnconditional=e,this.handlers=[],this.mql=t(n);var r=this;this.listener=function(t){r.mql=t,r.assess()},this.mql.addListener(this.listener)}function a(){if(!t)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!t("only all").matches}return i.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(t){return this.options===t||this.options.match===t}},o.prototype={addHandler:function(t){var n=new i(t);this.handlers.push(n),this.matches()&&n.on()},removeHandler:function(t){var e=this.handlers;n(e,function(n,r){return n.equals(t)?(n.destroy(),!e.splice(r,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){n(this.handlers,function(t){t.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var t=this.matches()?"on":"off";n(this.handlers,function(n){n[t]()})}},a.prototype={register:function(t,i,a){var u=this.queries,l=a&&this.browserIsIncapable;return u[t]||(u[t]=new o(t,l)),r(i)&&(i={match:i}),e(i)||(i=[i]),n(i,function(n){r(n)&&(n={match:n}),u[t].addHandler(n)}),this},unregister:function(t,n){var e=this.queries[t];return e&&(n?e.removeHandler(n):(e.clear(),delete this.queries[t])),this}},new a}),function(t){define("libs/amplify.core",[],function(){return function(){return function(t,n){var e=[].slice,r=t.subscriptions={};t.amplify={publish:function(t){if("string"!=typeof t)throw new Error("You must provide a valid topic to publish.");var n,i,o,a,u=e.call(arguments,1),l=0;if(!r[t])return!0;for(n=r[t].slice(),o=n.length;o>l&&(i=n[l],a=i.callback.apply(i.context,u),a!==!1);l++);return a!==!1},subscribe:function(t,n,e,i){if("string"!=typeof t)throw new Error("You must provide a valid topic to create a subscription.");3===arguments.length&&"number"==typeof e&&(i=e,e=n,n=null),2===arguments.length&&(e=n,n=null),i=i||10;for(var o,a=0,u=t.split(/\s/),l=u.length;l>a;a++){t=u[a],o=!1,r[t]||(r[t]=[]);for(var c=r[t].length-1,s={callback:e,context:n,priority:i};c>=0;c--)if(r[t][c].priority<=i){r[t].splice(c+1,0,s),o=!0;break}o||r[t].unshift(s)}return e},unsubscribe:function(t,n,e){if("string"!=typeof t)throw new Error("You must provide a valid topic to remove a subscription.");if(2===arguments.length&&(e=n,n=null),r[t])for(var i=r[t].length,o=0;i>o;o++)r[t][o].callback===e&&(n&&r[t][o].context!==n||(r[t].splice(o,1),o--,i--))}}}(this),t.amplify=amplify}.apply(t,arguments)})}(this),define("core/global/state",["jquery"],function(t){return console.log("state"),{getBreakpoint:function(){var t;return bpDoc=document.documentElement.clientWidth,bpInner=window.innerWidth,t="undefined"!=typeof bpDoc&&"undefined"!=typeof bpInner?bpInner:bpDoc},oldIe:function(){return t("html").hasClass("lt-ie9")}}}),define("libs/jquery.bbq",["jquery"],function(t){"$:nomunge";function n(t){return"string"==typeof t}function e(t){var n=m.call(arguments,1);return function(){return t.apply(this,n.concat(m.call(arguments)))}}function r(t){return t.replace(/^[^#]*#?(.*)$/,"$1")}function i(t){return t.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function o(e,r,i,o,a){var u,c,f,h,p;return o!==l?(f=i.match(e?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),p=f[3]||"",2===a&&n(o)?c=o.replace(e?T:q,""):(h=s(f[2]),o=n(o)?s[e?j:S](o):o,c=2===a?o:1===a?t.extend({},o,h):t.extend({},h,o),c=y(c),e&&(c=c.replace(v,g))),u=f[1]+(e?"#":c||!f[1]?"?":"")+c+p):u=r(i!==l?i:window[_][O]),u}function a(t,e,r){return e===l||"boolean"==typeof e?(r=e,e=y[t?j:S]()):e=n(e)?e.replace(t?T:q,""):e,s(e,r)}function u(e,r,i,o){return n(i)||"object"==typeof i||(o=i,i=r,r=l),this.each(function(){var n=t(this),a=r||d()[(this.nodeName||"").toLowerCase()]||"",u=a&&n.attr(a)||"";n.attr(a,y[e](u,i,o))})}var l,c,s,f,h,p,d,v,m=Array.prototype.slice,g=decodeURIComponent,y=t.param,b=t.bbq=t.bbq||{},w=t.event.special,x="hashchange",S="querystring",j="fragment",k="elemUrlAttr",_="location",O="href",A="src",q=/^.*\?|#.*$/g,T=/^.*\#/,E={};y[S]=e(o,0,i),y[j]=c=e(o,1,r),c.noEscape=function(n){n=n||"";var e=t.map(n.split(""),encodeURIComponent);v=new RegExp(e.join("|"),"g")},c.noEscape(",/"),t.deparam=s=function(n,e){var r={},i={"true":!0,"false":!1,"null":null};return t.each(n.replace(/\+/g," ").split("&"),function(n,o){var a,u=o.split("="),c=g(u[0]),s=r,f=0,h=c.split("]["),p=h.length-1;if(/\[/.test(h[0])&&/\]$/.test(h[p])?(h[p]=h[p].replace(/\]$/,""),h=h.shift().split("[").concat(h),p=h.length-1):p=0,2===u.length)if(a=g(u[1]),e&&(a=a&&!isNaN(a)?+a:"undefined"===a?l:i[a]!==l?i[a]:a),p)for(;p>=f;f++)c=""===h[f]?s.length:h[f],s=s[c]=p>f?s[c]||(h[f+1]&&isNaN(h[f+1])?{}:[]):a;else t.isArray(r[c])?r[c].push(a):r[c]!==l?r[c]=[r[c],a]:r[c]=a;else c&&(r[c]=e?l:"")}),r},s[S]=e(a,0),s[j]=f=e(a,1),t[k]||(t[k]=function(n){return t.extend(E,n)})({a:O,base:O,iframe:A,img:A,input:A,form:"action",link:O,script:A}),d=t[k],t.fn[S]=e(u,S),t.fn[j]=e(u,j),b.pushState=h=function(t,e){n(t)&&/^#/.test(t)&&e===l&&(e=2);var r=t!==l,i=c(window[_][O],r?t:{},r?e:2);window[_][O]=i+(/#/.test(i)?"":"#")},b.getState=p=function(t,n){return t===l||"boolean"==typeof t?f(t):f(n)[t]},b.removeState=function(n){var e={};n!==l&&(e=p(),t.each(t.isArray(n)?n:arguments,function(t,n){delete e[n]})),h(e,2)},w[x]=t.extend(w[x],{add:function(n){function e(t){var n=t[j]=c();t.getState=function(t,e){return t===l||"boolean"==typeof t?s(n,t):s(n,e)[t]},r.apply(this,arguments)}var r;return t.isFunction(n)?(r=n,e):(r=n.handler,void(n.handler=e))}})}),function(){var t=[].indexOf||function(t){for(var n=0,e=this.length;e>n;n++)if(n in this&&this[n]===t)return n;return-1},n=[].slice;!function(t,n){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(e){return n(e,t)}):n(t.jQuery,t)}(this,function(e,r){var i,o,a,u,l,c,s,f,h,p,d,v,m,g,y,b;return i=e(r),f=t.call(r,"ontouchstart")>=0,u={horizontal:{},vertical:{}},l=1,s={},c="waypoints-context-id",d="resize.waypoints",v="scroll.waypoints",m=1,g="waypoints-waypoint-ids",y="waypoint",b="waypoints",o=function(){function t(t){var n=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},t.data(c,this.id),s[this.id]=this,t.bind(v,function(){var t;return n.didScroll||f?void 0:(n.didScroll=!0,t=function(){return n.doScroll(),n.didScroll=!1},r.setTimeout(t,e[b].settings.scrollThrottle))}),t.bind(d,function(){var t;return n.didResize?void 0:(n.didResize=!0,t=function(){return e[b]("refresh"),n.didResize=!1},r.setTimeout(t,e[b].settings.resizeThrottle))})}return t.prototype.doScroll=function(){var t,n=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!f||t.vertical.oldScroll&&t.vertical.newScroll||e[b]("refresh"),e.each(t,function(t,r){var i,o,a;return a=[],o=r.newScroll>r.oldScroll,i=o?r.forward:r.backward,e.each(n.waypoints[t],function(t,n){var e,i;return r.oldScroll<(e=n.offset)&&e<=r.newScroll?a.push(n):r.newScroll<(i=n.offset)&&i<=r.oldScroll?a.push(n):void 0}),a.sort(function(t,n){return t.offset-n.offset}),o||a.reverse(),e.each(a,function(t,n){return n.options.continuous||t===a.length-1?n.trigger([i]):void 0})}),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,n,r,i=this;return r=e.isWindow(this.element),n=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:r?0:n.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:n.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?e[b]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},e.each(t,function(t,n){return e.each(i.waypoints[t],function(t,r){var i,o,a,u,l;return i=r.options.offset,a=r.offset,o=e.isWindow(r.element)?0:r.$element.offset()[n.offsetProp],e.isFunction(i)?i=i.apply(r.element):"string"==typeof i&&(i=parseFloat(i),r.options.offset.indexOf("%")>-1&&(i=Math.ceil(n.contextDimension*i/100))),r.offset=o-n.contextOffset+n.contextScroll-i,r.options.onlyOnScroll&&null!=a||!r.enabled?void 0:null!==a&&a<(u=n.oldScroll)&&u<=r.offset?r.trigger([n.backward]):null!==a&&a>(l=n.oldScroll)&&l>=r.offset?r.trigger([n.forward]):null===a&&n.oldScroll>=r.offset?r.trigger([n.forward]):void 0})})},t.prototype.checkEmpty=function(){return e.isEmptyObject(this.waypoints.horizontal)&&e.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([d,v].join(" ")),delete s[this.id]):void 0},t}(),a=function(){function t(t,n,r){var i,o;r=e.extend({},e.fn[y].defaults,r),"bottom-in-view"===r.offset&&(r.offset=function(){var t;return t=e[b]("viewportHeight"),e.isWindow(n.element)||(t=n.$element.height()),t-e(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=r.horizontal?"horizontal":"vertical",this.callback=r.handler,this.context=n,this.enabled=r.enabled,this.id="waypoints"+m++,this.offset=null,this.options=r,n.waypoints[this.axis][this.id]=this,u[this.axis][this.id]=this,i=null!=(o=t.data(g))?o:[],i.push(this.id),t.data(g,i)}return t.prototype.trigger=function(t){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete u[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var n,r;return(r=e(t).data(g))?(n=e.extend({},u.horizontal,u.vertical),e.map(r,function(t){return n[t]})):[]},t}(),p={init:function(t,n){var r;return null==n&&(n={}),null==(r=n.handler)&&(n.handler=t),this.each(function(){var t,r,i,u;return t=e(this),i=null!=(u=n.context)?u:e.fn[y].defaults.context,e.isWindow(i)||(i=t.closest(i)),i=e(i),r=s[i.data(c)],r||(r=new o(i)),new a(t,r,n)}),e[b]("refresh"),this},disable:function(){return p._invoke(this,"disable")},enable:function(){return p._invoke(this,"enable")},destroy:function(){return p._invoke(this,"destroy")},prev:function(t,n){return p._traverse.call(this,t,n,function(t,n,e){return n>0?t.push(e[n-1]):void 0})},next:function(t,n){return p._traverse.call(this,t,n,function(t,n,e){return n<e.length-1?t.push(e[n+1]):void 0})},_traverse:function(t,n,i){var o,a;return null==t&&(t="vertical"),null==n&&(n=r),a=h.aggregate(n),o=[],this.each(function(){var n;return n=e.inArray(this,a[t]),i(o,n,a[t])}),this.pushStack(o)},_invoke:function(t,n){return t.each(function(){var t;return t=a.getWaypointsByElement(this),e.each(t,function(t,e){return e[n](),!0})}),this}},e.fn[y]=function(){var t,r;return r=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],p[r]?p[r].apply(this,t):e.isFunction(r)?p.init.apply(this,arguments):e.isPlainObject(r)?p.init.apply(this,[null,r]):r?e.error("The "+r+" method does not exist in jQuery Waypoints."):e.error("jQuery Waypoints needs a callback function or handler option.")},e.fn[y].defaults={context:r,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},h={refresh:function(){return e.each(s,function(t,n){return n.refresh()})},viewportHeight:function(){var t;return null!=(t=r.innerHeight)?t:i.height()},aggregate:function(t){var n,r,i;return n=u,t&&(n=null!=(i=s[e(t).data(c)])?i.waypoints:void 0),n?(r={horizontal:[],vertical:[]},e.each(r,function(t,i){return e.each(n[t],function(t,n){return i.push(n)}),i.sort(function(t,n){return t.offset-n.offset}),r[t]=e.map(i,function(t){return t.element}),r[t]=e.unique(r[t])}),r):[]},above:function(t){return null==t&&(t=r),h._filter(t,"vertical",function(t,n){return n.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=r),h._filter(t,"vertical",function(t,n){return n.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=r),h._filter(t,"horizontal",function(t,n){return n.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=r),h._filter(t,"horizontal",function(t,n){return n.offset>t.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(t,n){return p[t]=n},_invoke:function(t){var n;return n=e.extend({},u.vertical,u.horizontal),e.each(n,function(n,e){return e[t](),!0})},_filter:function(t,n,r){var i,o;return(i=s[e(t).data(c)])?(o=[],e.each(i.waypoints[n],function(t,n){return r(i,n)?o.push(n):void 0}),o.sort(function(t,n){return t.offset-n.offset}),e.map(o,function(t){return t.element})):[]}},e[b]=function(){var t,e;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],h[e]?h[e].apply(null,t):h.aggregate.call(null,e)},e[b].settings={resizeThrottle:100,scrollThrottle:30},i.load(function(){return e[b]("refresh")})})}.call(this),define("core/global/analytics",["jquery","core/global/state","libs/jquery.bbq","waypoints"],function(t,n){console.log("global/analytics");var e=function(e){return e.liveballURLPrefix="landing.",e.sendToLiveball=function(){var n=t('a[href*="'+e.liveballURLPrefix+'"]');n.each(function(){var n,r=t(this),i=r.attr("href"),o={};o.visit=e.visitId,o.visitor=e.visitorId,n=t.param.querystring(i,o),r.attr("href",n)})},e.trackScrollDepth=function(){function e(t){dataLayer.push({event:"scroll",reference:""+t})}n.oldIe()||t(".sd-unit").waypoint(function(n){e(t(this).data("analyticsid"))},{triggerOnce:!0,offset:"bottom-in-view"})},e.sendOrientationToGA=function(){if(window.getComputedStyle){var t=window.getComputedStyle(document.body,":before").getPropertyValue("content");-1!=t.indexOf("portrait")&&dataLayer.push({event:"load",orientation:"portrait"}),-1!=t.indexOf("landscape")&&dataLayer.push({event:"load",orientation:"landscape"})}},e.fireDataOnloadOnAnchor=function(){t("a[data-onload]").each(function(n){var e,r=t(this).attr("data-onload");if(r)var i=r.indexOf("("),o=r.indexOf(")"),a=r.substring(0,i),u=r.substring(i+1,o),l=u.split("'"),c=l.join('"'),s=t.parseJSON(c);if(a){for(temp=a.split("."),il=temp.length,context=null,n=0;n<il;n++)null!=e?e=e[temp[n]]:(e=window[temp[n]],"function"!=typeof e&&(context=e));e.call(context,s)}})},e}(window.EFTOURS.analytics||{});return e}),define("core/global/compensatrs",["jquery","core/global/state","modernizr"],function(t,n,e){return console.log("global/compensatrs"),{svgFallback:function(){e.svg||t(".svg-fallback").each(function(){this.src=t(this).data("svg-fallback-src")})},handleUnsupportedHtml5:function(){t.support.transition||(t.fn.transition=t.fn.animate)},customCSSDetection:function(){e.addTest("appearance",function(){return e.testAllProps("appearance")&&(void 0===document.documentMode||document.documentMode>7)})},handleTelLinks:function(){EFTOURS.device.isTouch||t(".tel-link").removeAttr("href")},ie8FontFix:function(){if(n.oldIe()){var t=document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",e.styleSheet.cssText=':before,:after{content:"" !important',t.appendChild(e),setTimeout(function(){t.removeChild(e)},0)}},fakePlaceholder:function(){e.input.placeholder||t("input").each(function(){var n=t(this);""==n.val()&&""!=n.attr("placeholder")&&(n.val(n.attr("placeholder")),n.focus(function(){n.val()==n.attr("placeholder")&&n.val("")}),n.blur(function(){""==n.val()&&n.val(n.attr("placeholder"))}),t(n).closest("form").submit(function(){var n=t(this);n.hasClass("placeholderPending")||(t("input",this).each(function(){var n=t(this);n.val()==n.attr("placeholder")&&n.val("")}),n.addClass("placeholderPending"))}))})}}}),define("jquery.unobtrusive-ajax",["jquery"],function(t){function n(t,n){for(var e=window,r=(t||"").split(".");e&&r.length;)e=e[r.shift()];return"function"==typeof e?e:(n.push(t),Function.constructor.apply(null,n))}function e(t){return"GET"===t||"POST"===t}function r(t,n){e(n)||t.setRequestHeader("X-HTTP-Method-Override",n)}function i(n,e,r){var i;-1===r.indexOf("application/x-javascript")&&(i=(n.getAttribute("data-ajax-mode")||"").toUpperCase(),t(n.getAttribute("data-ajax-update")).each(function(n,r){var o;switch(i){case"BEFORE":o=r.firstChild,t("<div />").html(e).contents().each(function(){r.insertBefore(this,o)});break;case"AFTER":t("<div />").html(e).contents().each(function(){r.appendChild(this)});break;default:if(void 0!==t(r).data("usereplacewith"))t(r).replaceWith(e);else if(e.indexOf("form-content-success")>-1){var a=t.parseHTML(e);t(r).html(a)}else t(r).html(e)}}))}function o(o,a){var u,l,c,s;u=o.getAttribute("data-ajax-confirm"),(!u||window.confirm(u))&&(l=t(o.getAttribute("data-ajax-loading")),s=o.getAttribute("data-ajax-loading-duration")||0,
t.extend(a,{type:o.getAttribute("data-ajax-method")||void 0,url:o.getAttribute("data-ajax-url")||void 0,beforeSend:function(t){var e;return r(t,c),e=n(o.getAttribute("data-ajax-begin"),["xhr"]).apply(this,arguments),e!==!1&&l.show(s),e},complete:function(){l.hide(s),n(o.getAttribute("data-ajax-complete"),["xhr","status"]).apply(this,arguments)},success:function(t,e,r){i(o,t,r.getResponseHeader("Content-Type")||"text/html"),n(o.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(this,arguments)},error:n(o.getAttribute("data-ajax-failure"),["xhr","status","error"])}),a.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),a.context=o,c=a.type.toUpperCase(),e(c)||(a.type="POST",a.data.push({name:"X-HTTP-Method-Override",value:c})),t.ajax(a))}function a(n){var e=t(n).data(l);return!e||!e.validate||e.validate()}var u="unobtrusiveAjaxClick",l="unobtrusiveValidation";t(document).on("click","a[data-ajax=true]",function(t){t.preventDefault(),o(this,{url:this.href,type:"GET",data:[]})}),t(document).on("click","form[data-ajax=true] input[type=image]",function(n){var e=n.target.name,r=t(n.target),i=r.parents("form")[0],o=r.offset();t(i).data(u,[{name:e+".x",value:Math.round(n.pageX-o.left)},{name:e+".y",value:Math.round(n.pageY-o.top)}]),setTimeout(function(){t(i).removeData(u)},0)}),t(document).on("click","form[data-ajax=true] :submit",function(n){var e=n.target.name,r=t(n.target).parents("form")[0];t(r).data(u,e?[{name:e,value:n.target.value}]:[]),setTimeout(function(){t(r).removeData(u)},0)}),t(document).on("submit","form[data-ajax=true]",function(n){var e=t(this).data(u)||[];n.preventDefault(),a(this)&&o(this,{url:this.action,type:this.method||"GET",data:e.concat(t(this).serializeArray())})})}),define("global",["core/global/analytics","core/global/compensatrs","jquery.unobtrusive-ajax"],function(t,n){return{init:function(){console.log("global"),t.sendToLiveball(),t.trackScrollDepth(),t.sendOrientationToGA(),t.fireDataOnloadOnAnchor(),n.svgFallback(),n.handleUnsupportedHtml5(),n.customCSSDetection(),n.fakePlaceholder(),n.handleTelLinks(),n.ie8FontFix()}}}),require(["jquery","underscore","libs/enquire","libs/amplify.core"],function(t){require(["global"],function(t){t.init()})}),define("bootstrap",function(){});
//# sourceMappingURL=bootstrap.js.map