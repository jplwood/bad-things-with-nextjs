define("core/ef_plugins/swipe",["jquery"],function(t){console.log("swipe"),window.Swipe=function(t,e){if(!t)return null;return this.browser={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(t){var e=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var i in e)if(void 0!==t.style[e[i]])return!0;return!1}(document.createElement("swipe"))},this.options=e||{},this.index=this.options.startSlide||0,this.speed=this.options.speed||300,this.callback=this.options.callback||function(){},this.delay=this.options.auto||0,this.peek=this.options.peek||"true"===t.getAttribute("data-swipe-peek")||!1,this.peekSlideWidth=.85,this.peekSlideSpacing=15,this.maxSlideWidth=350,this.positionIndicator=this.options.positionIndicator||"true"===t.getAttribute("data-swipe-position-indicator")||!1,this.positionIndicatorChar="â€¢",this.positionCounter=this.options.counter||"true"===t.getAttribute("data-swipe-position-counter")||!1,this.positionCounterSpacer=this.options.positionCounterSpacer||t.getAttribute("data-swipe-position-counter-spacer")||" of ",this.arrows=this.options.arrows||"true"===t.getAttribute("data-swipe-arrows")||!1,this.arrowHolder=this.options.arrowHolder||null,this.arrowsToEdge=this.options.arrowsToEdge,this.arrowsToEdgeCutoff=this.options.arrowsToEdgeCutoff||580,this.container=t,this.element=this.container.children[0],this.element.style.listStyle="none",this.element.style.margin=0,this.slides=this.element.children,this.length=this.slides.length,this.length<2?null:((this.positionIndicator||this.positionCounter||this.arrows)&&this.setupNav(),this.setup(),this.begin(),void(this.browser.addEventListener&&(this.element.addEventListener("touchstart",this,!1),this.element.addEventListener("touchmove",this,!1),this.element.addEventListener("touchend",this,!1),this.element.addEventListener("webkitTransitionEnd",this,!1),this.element.addEventListener("msTransitionEnd",this,!1),this.element.addEventListener("oTransitionEnd",this,!1),this.element.addEventListener("transitionend",this,!1),window.addEventListener("resize",this,!1))))},Swipe.prototype={setup:function(){if(this.containerWidth=this.container.getBoundingClientRect().width||this.container.offsetWidth,!this.containerWidth)return null;this.container.style.visibility="hidden",this.slideWidth=this.peek?this.containerWidth*this.peekSlideWidth:this.containerWidth,this.slideWidth=this.slideWidth>this.maxSlideWidth?this.maxSlideWidth:this.slideWidth,this.slideSpacing=this.peek?this.peekSlideSpacing:0,this.elementWidth=this.slides.length*(this.slideWidth+this.slideSpacing),this.element.style.width=this.elementWidth+"px",this.element.style.paddingLeft=this.slideSpacing+"px",this.element.style.paddingRight=this.slideSpacing+"px",this.element.style.paddingTop=0,this.element.style.paddingBottom=0,this.width=this.slideWidth+this.slideSpacing;for(var e,i=this.length;i--;)e=this.slides[i],e.style.width=this.slideWidth+"px",i!=this.length-1&&(e.style.marginRight=this.slideSpacing+"px"),e.style.display="block",e.style.styleFloat="left",e.style.cssFloat="left";this.slide(this.index,0),this.container.style.visibility="visible",this.arrows&&this.arrowsToEdge&&t(window).width()>this.arrowsToEdgeCutoff?this.setupArrowsToEdge():this.teardownArrowsToEdge()},hasOrientationChanged:function(t){var e=t.orientation;t.matchMedia("(orientation: portrait)").matches&&"portrait"!==e&&(t.orientation="portrait",console.log(t.orientation),this.setup()),t.matchMedia("(orientation: landscape)").matches&&"landscape"!==e&&(t.orientation="landscape",console.log(t.orientation),this.setup())},setupNav:function(){return this.slides=this.element.children,this.length=this.slides.length,this.length<2?null:(this.nav=document.createElement("div"),this.nav.setAttribute("class","swipe-nav"),this.arrowHolder||(this.arrowHolder=this.nav),this.arrows&&(this.setupArrows(),this.arrowHolder.appendChild(this.prevArrow),this.arrowHolder.appendChild(this.nextArrow)),this.positionIndicator&&(this.setupPositioner(),this.nav.appendChild(this.positioner)),this.positionCounter&&(this.setupCounter(),this.nav.appendChild(this.counter)),void this.container.appendChild(this.nav))},updateNav:function(t){this.positionIndicator&&this.setPositionerPosition(t),this.positionCounter&&this.setCounterPosition(t),this.arrows&&this.updateArrows(t)},setupArrows:function(){var t=this;this.nextArrow=document.createElement("a"),this.nextArrow.setAttribute("class","swipe-next-arrow"),this.nextArrow.appendChild(document.createTextNode(">")),this.nextArrow.onclick=function(){t.next()},this.prevArrow=document.createElement("a"),this.prevArrow.setAttribute("class","swipe-prev-arrow"),this.prevArrow.appendChild(document.createTextNode("<")),this.prevArrow.onclick=function(){t.prev()},this.updateArrows(this.index)},updateArrows:function(t){0==t?(this.prevArrow.style.visibility="hidden",this.nextArrow.style.visibility="visible"):t==this.length-1?(this.prevArrow.style.visibility="visible",this.nextArrow.style.visibility="hidden"):(this.prevArrow.style.visibility="visible",this.nextArrow.style.visibility="visible")},setupCounter:function(){this.counter=document.createElement("div"),this.counter.setAttribute("class","swipe-counter"),this.counter.current=document.createElement("span"),this.counter.current.setAttribute("class","swipe-counter-current"),this.counter.current.appendChild(document.createTextNode(this.index+1)),this.counter.spacer=document.createElement("span"),this.counter.spacer.setAttribute("class","swipe-counter-spacer"),this.counter.spacer.appendChild(document.createTextNode(this.positionCounterSpacer)),this.counter.total=document.createElement("span"),this.counter.total.setAttribute("class","swipe-counter-total"),this.counter.total.appendChild(document.createTextNode(this.length)),this.counter.appendChild(this.counter.current),this.counter.appendChild(this.counter.spacer),this.counter.appendChild(this.counter.total)},setCounterPosition:function(t){this.counter.current.removeChild(this.counter.current.firstChild),this.counter.current.appendChild(document.createTextNode(t+1))},setupPositioner:function(){this.positioner=document.createElement("div"),this.positioner.setAttribute("class","swipe-position");for(var t=this.length,e=this;t--;){var i=document.createElement("span"),s=document.createTextNode(this.positionIndicatorChar);i.appendChild(s),i.addEventListener("click",function(t){var i=this.parentNode.childNodes,s=Array.prototype.indexOf.call(i,this);e.gotoSlide(s)},!1),this.positioner.appendChild(i)}this.setPositionerPosition(this.index)},setPositionerPosition:function(t){for(var e=this.positioner.children,i=e.length;i--;)e[i].className=" ";e[t].className="swipe-position-current"},setupArrowsToEdge:function(){var e=-1*Math.ceil(t(window).width()-t(this.arrowHolder).outerWidth()-t(this.arrowHolder).offset().left),i=-1*Math.ceil(t(this.arrowHolder).offset().left);t(this.nextArrow).css("right",e+"px"),t(this.prevArrow).css("left",i+"px"),t(this.arrowHolder).addClass("swipe-arrows-to-edge")},teardownArrowsToEdge:function(){this.arrows&&(t(this.nextArrow).css("right",""),t(this.prevArrow).css("left",""),t(this.arrowHolder).removeClass("swipe-arrows-to-edge"))},slide:function(t,e){var i=this.element.style;void 0==e&&(e=this.speed),i.webkitTransitionDuration=i.MozTransitionDuration=i.msTransitionDuration=i.OTransitionDuration=i.transitionDuration=e+"ms";var s=t*this.width,n=this.elementWidth-this.containerWidth+this.slideSpacing;s>n&&(s=n),i.MozTransform=i.webkitTransform="translate3d("+-s+"px,0,0)",i.msTransform=i.OTransform="translateX("+-s+"px)",this.browser.transitions||(this.element.style.marginLeft=-s+"px"),this.index=t,(this.positionIndicator||this.positionCounter||this.arrows)&&this.updateNav(t)},getPos:function(){return this.index},prev:function(t){this.delay=t||0,clearTimeout(this.interval),this.index&&this.slide(this.index-1,this.speed)},next:function(t){this.delay=t||0,clearTimeout(this.interval),this.index<this.length-1?this.slide(this.index+1,this.speed):this.slide(0,this.speed)},gotoSlide:function(t,e){this.delay=e||0,clearTimeout(this.interval),t>=0&&t<this.length&&t!=this.index&&this.slide(t,this.speed)},begin:function(){var t=this;this.interval=this.delay?setTimeout(function(){t.next(t.delay)},this.delay):0},stop:function(){this.delay=0,clearTimeout(this.interval)},resume:function(){this.delay=this.options.auto||0,this.begin()},handleEvent:function(t){switch(t.type){case"touchstart":this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchend":this.onTouchEnd(t);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"transitionend":this.transitionEnd(t);break;case"resize":this.hasOrientationChanged(window)}},transitionEnd:function(t){this.delay&&this.begin(),this.callback(t,this.index,this.slides[this.index])},onTouchStart:function(t){this.start={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,time:Number(new Date)},this.isScrolling=void 0,this.deltaX=0,this.element.style.MozTransitionDuration=this.element.style.webkitTransitionDuration=0,t.stopPropagation()},onTouchMove:function(t){t.touches.length>1||t.scale&&1!==t.scale||(this.deltaX=t.touches[0].pageX-this.start.pageX,"undefined"==typeof this.isScrolling&&(this.isScrolling=!!(this.isScrolling||Math.abs(this.deltaX)<Math.abs(t.touches[0].pageY-this.start.pageY))),this.isScrolling||(t.preventDefault(),clearTimeout(this.interval),this.deltaX=this.deltaX/(!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0?Math.abs(this.deltaX)/this.width+1:1),this.element.style.MozTransform=this.element.style.webkitTransform="translate3d("+(this.deltaX-this.index*this.width)+"px,0,0)",t.stopPropagation()))},onTouchEnd:function(t){var e=Number(new Date)-this.start.time<250&&Math.abs(this.deltaX)>20||Math.abs(this.deltaX)>this.width/2,i=!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0;this.isScrolling||this.slide(this.index+(e&&!i?this.deltaX<0?1:-1:0),this.speed),t.stopPropagation()},kill:function(){this.stop(),this.element.style.width="",this.element.style.padding="",this.element.style.left="",this.element.style.listStyle="",this.element.style.margin="",this.browser.transitions&&(this.element.style.MozTransform=this.element.style.webkitTransform="translate3d(0,0,0)",this.element.style.msTransform=this.element.style.OTransform="translateX(0)");for(var e=this.slides.length;e--;){var i=this.slides[e];i.style.width="",i.style.height="",i.style.marginRight="",i.style.left="",i.style.styleFloat="",i.style.cssFloat="",i.style.display="",this.browser.transitions&&(i.style.MozTransform=i.style.webkitTransform="translate3d(0,0,0)",i.style.msTransform=i.style.OTransform="translateX(0)")}this.browser.addEventListener?(this.element.removeEventListener("touchstart",this,!1),this.element.removeEventListener("touchmove",this,!1),this.element.removeEventListener("touchend",this,!1),this.element.removeEventListener("webkitTransitionEnd",this,!1),this.element.removeEventListener("msTransitionEnd",this,!1),this.element.removeEventListener("oTransitionEnd",this,!1),this.element.removeEventListener("otransitionend",this,!1),this.element.removeEventListener("transitionend",this,!1),window.removeEventListener("resize",this,!1)):window.onresize=null,this.nav&&this.nav.parentNode.removeChild(this.nav),t(this.container).data("Swipe",null)}},t.fn.Swipe=function(e){return this.each(function(){var i=t(this);i.data("Swipe",new Swipe(i[0],e))})}});
//# sourceMappingURL=swipe.js.map