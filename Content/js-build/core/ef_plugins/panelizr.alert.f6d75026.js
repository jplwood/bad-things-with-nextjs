!function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define("libs/spin",t):e.Spinner=t()}(this,function(){"use strict";function e(e,t){var i,n=document.createElement(e||"div");for(i in t)n[i]=t[i];return n}function t(e){for(var t=1,i=arguments.length;i>t;t++)e.appendChild(arguments[t]);return e}function i(e,t,i,n){var o=["opacity",t,~~(100*e),i,n].join("-"),s=.01+i/n*100,r=Math.max(1-(1-e)/t*(100-s),e),a=p.substring(0,p.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return h[o]||(c.insertRule("@"+l+"keyframes "+o+"{0%{opacity:"+r+"}"+s+"%{opacity:"+e+"}"+(s+.01)+"%{opacity:1}"+(s+t)%100+"%{opacity:"+e+"}100%{opacity:"+r+"}}",c.cssRules.length),h[o]=1),o}function n(e,t){var i,n,o=e.style;if(t=t.charAt(0).toUpperCase()+t.slice(1),void 0!==o[t])return t;for(n=0;n<d.length;n++)if(i=d[n]+t,void 0!==o[i])return i}function o(e,t){for(var i in t)e.style[n(e,i)||i]=t[i];return e}function s(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)void 0===e[n]&&(e[n]=i[n])}return e}function r(e,t){return"string"==typeof e?e:e[t%e.length]}function a(e){this.opts=s(e||{},a.defaults,u)}function l(){function i(t,i){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}c.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(e,n){function s(){return o(i("group",{coordsize:c+" "+c,coordorigin:-p+" "+-p}),{width:c,height:c})}function a(e,a,l){t(h,t(o(s(),{rotation:360/n.lines*e+"deg",left:~~a}),t(o(i("roundrect",{arcsize:n.corners}),{width:p,height:n.scale*n.width,left:n.scale*n.radius,top:-n.scale*n.width>>1,filter:l}),i("fill",{color:r(n.color,e),opacity:n.opacity}),i("stroke",{opacity:0}))))}var l,p=n.scale*(n.length+n.width),c=2*n.scale*p,d=-(n.width+n.length)*n.scale*2+"px",h=o(s(),{position:"absolute",top:d,left:d});if(n.shadow)for(l=1;l<=n.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=n.lines;l++)a(l);return t(e,h)},a.prototype.opacity=function(e,t,i,n){var o=e.firstChild;n=n.shadow&&n.lines||0,o&&t+n<o.childNodes.length&&(o=o.childNodes[t+n],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=i))}}var p,c,d=["webkit","Moz","ms","O"],h={},u={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(a.defaults={},s(a.prototype,{spin:function(t){this.stop();var i=this,n=i.opts,s=i.el=e(null,{className:n.className});if(o(s,{position:n.position,width:0,zIndex:n.zIndex,left:n.left,top:n.top}),t&&t.insertBefore(s,t.firstChild||null),s.setAttribute("role","progressbar"),i.lines(s,i.opts),!p){var r,a=0,l=(n.lines-1)*(1-n.direction)/2,c=n.fps,d=c/n.speed,h=(1-n.opacity)/(d*n.trail/100),u=d/n.lines;!function f(){a++;for(var e=0;e<n.lines;e++)r=Math.max(1-(a+(n.lines-e)*u)%d*h,n.opacity),i.opacity(s,e*n.direction+l,r,n);i.timeout=i.el&&setTimeout(f,~~(1e3/c))}()}return i},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(n,s){function a(t,i){return o(e(),{position:"absolute",width:s.scale*(s.length+s.width)+"px",height:s.scale*s.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/s.lines*c+s.rotate)+"deg) translate("+s.scale*s.radius+"px,0)",borderRadius:(s.corners*s.scale*s.width>>1)+"px"})}for(var l,c=0,d=(s.lines-1)*(1-s.direction)/2;c<s.lines;c++)l=o(e(),{position:"absolute",top:1+~(s.scale*s.width/2)+"px",transform:s.hwaccel?"translate3d(0,0,0)":"",opacity:s.opacity,animation:p&&i(s.opacity,s.trail,d+c*s.direction,s.lines)+" "+1/s.speed+"s linear infinite"}),s.shadow&&t(l,o(a("#000","0 0 4px #000"),{top:"2px"})),t(n,t(l,a(r(s.color,c),"0 0 1px rgba(0,0,0,.1)")));return n},opacity:function(e,t,i){t<e.childNodes.length&&(e.childNodes[t].style.opacity=i)}}),"undefined"!=typeof document){c=function(){var i=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}();var f=o(e("group"),{behavior:"url(#default#VML)"});!n(f,"transform")&&f.adj?l():p=n(f,"animation")}return a});var opts={lines:11,width:3};define("core/ef_plugins/spinnerhelper",["jquery","libs/spin"],function(e,t){!function(e,i,n,o){function s(t,i){this.element=t,this.$element=e(t),this.metadata=this.$element.data("spinnerhelper-options"),this.options=e.extend({},a,i,this.metadata),this.options.type=this.options.type.toLowerCase(),("inline"===this.options.type||"overlay"===this.options.type)&&(this._defaults=a,this._name=r,this.init())}var r="spinnerhelper",a={type:"inline",delay:500,spinOpts:{lines:11,width:3,scale:.5}};s.prototype={init:function(){var n=this;e("body"),e(i);n.spinner=new t(n.options.spinOpts),n.isSpinning=!1,n.timeoutID=-1,"overlay"===n.options.type&&(n.$overlay=e('<div class="spinner-overlay"></div>').css("display","none"),n.$centerer=e('<div class="spinner-centerer"></div>'),n.$element.append(n.$overlay.append(n.$centerer))),n.start()},stop:function(){var t=this;e("body"),e(i);if(!t.isSpinning)return clearTimeout(t.timeoutID),void(t.timeoutID=-1);switch(t.options.type){case"inline":t.spinner.stop(),t.isSpinning=!1;break;case"overlay":t.spinner.stop(),t.$overlay.css("display","none"),t.isSpinning=!1}},start:function(){var t=this;e("body"),e(i);if(!t.isSpinning)switch(t.options.type){case"inline":t.timeoutID=_.delay(function(){t.spinner.spin(t.element),t.isSpinning=!0},t.options.delay);break;case"overlay":t.timeoutID=_.delay(function(){t.$overlay.css("display","block"),t._centerSpinner(),t.spinner.spin(t.$centerer[0]),t.isSpinning=!0},t.options.delay)}},_centerSpinner:function(){var t,o,s,r,a,l=this,p=l.$element.offset().top,c=l.$element.outerHeight(!1),d=p+c,h=e(n).scrollTop(),u=e(i).height(),f=h+u;t=f>p&&d>h,t?(o=h-p,o>=0?(a=o,s=c-o,r=s>u?u:s):(a=0,s=u+o,r=s>c?c:s)):(r=c,a=0),l.$centerer.css({width:l.$element.outerWidth(),height:r,position:"relative",top:a})},destroy:function(){var e=this;return e.stop(),"overlay"===e.options.type&&e.$overlay.remove(),e.$element.removeData("plugin_"+r),null}},e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new s(this,t))})}}(e,window,document)}),define("core/ef_plugins/panelizr.alert",["jquery","underscore","core/ef_plugins/spinnerhelper"],function(e){!function(e,t,i,n){function o(t,i){this.element=t,this.$element=e(t),this.metadata=this.$element.data("panelizralert-options"),this.options=e.extend({},r,i,this.metadata),this._defaults=r,this._name=s,this.init()}var s="panelizralert",r={hideSelector:"",showLoadingSpinner:!0};o.prototype={init:function(){var t=this;t.isOpen=!1,e(this.element.parentElement).hasClass("cta-body")?t.$parentPanelBody=t.$element.closest(".cta-body"):t.$parentPanelBody=t.$element.closest(".panel-body"),t.$hideMe=t.$parentPanelBody.find(t.options.hideSelector),t.$element.detach(),t.$element.insertAfter(t.$hideMe).hide()},open:function(){var e=this;e.isOpen||(e.options.showLoadingSpinner?(e.spinner=e.$parentPanelBody.spinnerhelper({type:"overlay",delay:0}).data("plugin_spinnerhelper"),_.delay(function(){e.spinner.stop(),e.$hideMe.hide(),e.$element.show()},500)):(e.$hideMe.hide(),e.$element.show()),e.isOpen=!0)},close:function(){var e=this;e.isOpen&&(e.$element.hide(),e.$hideMe.show(),e.isOpen=!1)}},e.fn[s]=function(t){return this.each(function(){e.data(this,"plugin_"+s)||e.data(this,"plugin_"+s,new o(this,t))})}}(e,window,document)});
//# sourceMappingURL=panelizr.alert.js.map