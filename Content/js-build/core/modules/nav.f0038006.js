define("core/ef_plugins/shamone",["jquery"],function(e){!function(e,t,n,o){function a(t,n){if(this.element=t,this.$element=e(t),this.metadata=this.$element.data("shamone-options"),this.options=e.extend({},i,n,this.metadata),this._name=s,this.options.slideDirection=this.options.slideDirection.toLowerCase(),"left"!==this.options.slideDirection&&"right"!==this.options.slideDirection)throw new Error("You must set a slideDirection. Exiting Shamone. Hee hee!");this.init()}console.log("shamone");var s="shamone",i={navSelector:"",contentPanelSelector:"",slideDirection:"",buttonClass:"shamone-button",navClass:"shamone-nav",contentPanelClass:"shamone-content",activeButtonClass:"shamone-is-active-button",activeNavSectionClass:"shamone-is-active-navsection",openContentPanelClass:"shamone-is-open",animateSlideClass:"shamone-is-animated",classPrefix:"shamone-is-",linksDisabledElement:"",openCallback:function(){},closeCallback:function(){},setupCallback:function(){},destroyCallback:function(){}};a.prototype={init:function(){var t=this;t.$element.addClass(t.options.buttonClass+" "+t.options.animateSlideClass),t.$nav=e(t.options.navSelector).addClass(t.options.navClass+" "+t.options.animateSlideClass),t.$contentPanel=e(t.options.contentPanelSelector).addClass(t.options.contentPanelClass+" "+t.options.animateSlideClass),t.$target=e(t.$element.attr("href")),t.isOpen=!1,t._moveNav(),t._clickListen()},_moveNav:function(){var e=this,t=!1;e.$navPrev=[],e.$navParent=[],t=e.$nav.parents().find(e.$contentPanel).length>0,t&&(e.$navPrev=e.$nav.prev(),e.$navParent=e.$nav.parent(),e.$nav.detach().insertBefore(e.$contentPanel)),"function"==typeof e.options.setupCallback&&e.options.setupCallback()},_clickListen:function(){var t=this;t.$element.on("click.shamone",function(n){n.preventDefault(),n.stopPropagation();e(this);t.isOpen?t.close(!0,!0):t.open()})},open:function(){var n=this,o=(e("body"),e(n.options.contentPanelSelector));n.$target.addClass(n.options.activeNavSectionClass),n.$element.addClass(n.options.activeButtonClass),n.$contentPanel.addClass(n.options.classPrefix+n.options.slideDirection),o.css("position","fixed"),n.$target.css("height",e(t).height()>n.$target.outerHeight()?e(t).height():n.$target.outerHeight()),o.on("click.shamone",function(e){n.close(!0,!0)}),n.$target.on("click.shamone",function(e){e.stopPropagation(),"a"==e.target.tagName.toLowerCase()&&n.close(!1,!1)}),n.isOpen=!0,"function"==typeof n.options.openCallback&&n.options.openCallback()},close:function(t,n){var o=this,a=e(o.options.contentPanelSelector);t||(o.$element.removeClass(o.options.animateSlideClass),o.$nav.removeClass(o.options.animateSlideClass),o.$contentPanel.removeClass(o.options.animateSlideClass)),o.$target.removeClass(o.options.activeNavSectionClass),o.$element.removeClass(o.options.activeButtonClass),o.$contentPanel.removeClass(o.options.classPrefix+o.options.slideDirection),a.css("position","relative"),a.off("click.shamone"),o.$target.off("click.shamone"),o.isOpen=!1,n&&"function"==typeof o.options.closeCallback&&o.options.closeCallback()},destroy:function(){var e=this;e.close(!1),e.$target.css("height","auto"),e.$element.removeClass(e.options.buttonClass+" "+e.options.animateSlideClass),e.$nav.removeClass(e.options.navClass+" "+e.options.animateSlideClass),e.$contentPanel.removeClass(e.options.contentPanelClass+" "+e.options.animateSlideClass),e.$element.off("click.shamone"),e.$navPrev.length>0?e.$nav.detach().insertAfter(e.$navPrev):e.$navParent.length>0&&e.$nav.detach().prependTo(e.$navParent),"function"==typeof e.options.destroyCallback&&e.options.destroyCallback(),e.$element.removeData("plugin_"+s)}},e.fn[s]=function(t){return this.each(function(){e.data(this,"plugin_"+s)||e.data(this,"plugin_"+s,new a(this,t))})}}(e,window,document)}),define("core/modules/nav",["jquery","core/global/state","libs/enquire","core/ef_plugins/shamone"],function(e,t,n){return{init:function(){function o(){e("html").hasClass("lt-ie10")&&(c.insertBefore(r),p.detach().appendTo(r))}function a(){e("html").hasClass("lt-ie10")&&(r.insertBefore(c),p.detach().prependTo(r))}console.log("nav");var s,i=".nav-sitewide",l=e(i),c=e("#main-nav"),r=e("#utility-nav"),p=e("#nav-utility-ctas"),h=t.getBreakpoint(),u={close:function(t){t.removeClass("is-open"),e(document).off("touchstart.utilitysubnav")},setup:function(){var t=this;EFTOURS.device.isTouch&&l.hasClass("is-logged-in")&&e(".nav-utility-haschildren > .nav-utility-link").on("click.utilitysubnav",function(n){var o=e(this).parent();n.preventDefault(),n.stopPropagation(),o.hasClass("is-open")?t.close(o):(o.addClass("is-open"),e(document).on("touchstart.utilitysubnav",function(n){e(n.target).parents(".nav-utility-haschildren").is(o)||t.close(o)}))})},breakdown:function(){var t=this;EFTOURS.device.isTouch&&l.hasClass("is-logged-in")&&(t.close(e(".nav-utility-haschildren > .nav-utility-link").parent()),e(".nav-utility-haschildren > .nav-utility-link").off("click.utilitysubnav"))}};h>=865&&(console.log("utility setup on load"),u.setup()),t.oldIe()||EFTOURS.config.isfixedwidth||n.register("screen and (max-width : 864px)",{match:function(){console.log("shamone match"),u.breakdown(),e(".hee-hee").shamone({navSelector:i,contentPanelSelector:".site-wrapper",slideDirection:"left",openCallback:function(){dataLayer.push({event:"click",context:"MainNav",action:"open"})},closeCallback:function(){dataLayer.push({event:"click",context:"MainNav",action:"close"})},setupCallback:function(){o()},destroyCallback:function(){a()},linksDisabledElement:"#main"})},unmatch:function(){console.log("shamone unmatch"),s=e(".hee-hee").data("plugin_shamone"),void 0!==s&&s.destroy(),u.setup()}})}}});
//# sourceMappingURL=nav.js.map